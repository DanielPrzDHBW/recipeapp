(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3841:(e,r,t)=>{Promise.resolve().then(t.bind(t,9547))},9547:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var s=t(5155),l=t(5239),a=t(2115),n=t(7921),i=t(7419),o=t(6512),c=t(2977);let d=e=>fetch(e).then(e=>e.json());function x(){let{mutate:e}=(0,i.iX)(),{data:r,trigger:t}=(0,c.A)("http://localhost:8080/api/newrecipes",d),[o,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)({recipe:[],shopping_list:[]});return(0,s.jsxs)("div",{className:"font-sans grid grid-rows-[20px_1fr_20px] items-center justify-items-center min-h-screen p-8 pb-20 gap-16 sm:p-20",children:[(0,s.jsxs)("main",{className:"flex flex-col gap-[32px] row-start-2 items-center",children:[(0,s.jsx)("h1",{className:"text-4xl sm:text-5xl font-extrabold text-center",children:"RecipeApp"}),(0,s.jsxs)("div",{className:"flex gap-4 items-center flex-col sm:flex-row",children:[(0,s.jsxs)("a",{className:"rounded-full border border-solid border-black/[.08] dark:border-white/[.145] transition-colors flex items-center justify-center hover:bg-[#f2f2f2] dark:hover:bg-[#1a1a1a] hover:border-transparent font-medium text-sm sm:text-base h-10 sm:h-12 px-4 sm:px-5 w-full sm:w-auto gap-2",onClick:async()=>{await t(),p(r),x(!0)},target:"_blank",rel:"noopener noreferrer",children:[(0,s.jsx)(l.default,{className:"dark:invert",src:"/recipe.svg",alt:"Recipe icon",width:20,height:20}),"Generate Recipes"]}),(0,s.jsx)(n.A,{trigger:(0,s.jsxs)("a",{className:"rounded-full border border-solid border-black/[.08] dark:border-white/[.145] transition-colors flex items-center justify-center hover:bg-[#f2f2f2] dark:hover:bg-[#1a1a1a] hover:border-transparent font-medium text-sm sm:text-base h-10 sm:h-12 px-4 sm:px-5 w-full sm:w-auto gap-2 ",target:"_blank",rel:"noopener noreferrer",children:[(0,s.jsx)(l.default,{className:"dark:invert",src:"/shoppinglist.svg",alt:"shoppinglist icon",width:20,height:20}),"Shopping List"]}),modal:!0,nested:!0,contentStyle:{padding:0,border:"none",background:"none"},children:e=>{var r;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"overflow-y-auto bg-gray-800 p-8 rounded shadow-lg flex flex-col items-center max-h-[90vh] max-w-[80vw] min-w-[40vw]",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Shopping List"}),(0,s.jsx)("ul",{className:"text-center",children:null==h||null==(r=h.shopping_list)?void 0:r.map((e,r)=>(0,s.jsx)("li",{children:e},r))}),(0,s.jsx)("button",{className:"mt-4 px-4 py-2 bg-gray-200 text-gray-500 rounded",onClick:e,children:"Close"})]})})}})]}),(0,s.jsx)("div",{className:"flex gap-4 items-center flex-col sm:w-9/12",children:(0,s.jsx)(m,{extData:o&&r?r:void 0,global_data:p})})]}),(0,s.jsx)("footer",{className:"row-start-3 flex gap-[24px] flex-wrap items-center justify-center"})]})}function h(e){let{recipe:r,close:t}=e,n=(0,a.useRef)(null);return(0,a.useEffect)(()=>{n.current&&(n.current.scrollTop=0)},[r]),(0,s.jsxs)("div",{ref:n,className:"overflow-y-auto bg-gray-800 p-8 rounded shadow-lg flex flex-col items-center max-h-[90vh] max-w-[80vw]",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:r.strMeal}),(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"mb-4 whitespace-pre-wrap text-xs",children:["ID:",r.idMeal," | Category: ",r.strCategory]})}),(0,s.jsx)(l.default,{src:r.strMealThumb,alt:"Image Food",width:300,height:300}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2 text-center",children:"Ingredients"}),(0,s.jsx)("ul",{className:"text-center",children:[...Array(20)].map((e,t)=>{let l=r["strIngredient".concat(t+1)],a=r["strMeasure".concat(t+1)];return l?(0,s.jsxs)("li",{children:[l," - ",a]},t):null})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2 text-center",children:"Instructions"}),(0,s.jsx)("p",{className:"mb-4 whitespace-pre-wrap text-m text-center",children:r.strInstructions})]}),(0,s.jsx)("a",{className:"text-xs",href:r.strYoutube,children:"Youtube"}),(0,s.jsx)("button",{className:"mt-4 px-4 py-2 bg-gray-200 text-gray-500 rounded",onClick:t,children:"Close"})]})}function m(e){let{extData:r,global_data:t}=e,{data:a,error:i,isLoading:c}=r?{data:r,error:void 0,isLoading:!1}:(0,o.Ay)("http://localhost:8080/api/recipes",d);return i?(0,s.jsx)("div",{children:"Failed to load"}):c?(0,s.jsx)("div",{children:"Loading..."}):a?(t(a),(0,s.jsx)(s.Fragment,{children:a.recipe.map(e=>(0,s.jsx)(n.A,{trigger:(0,s.jsx)("a",{className:"rounded-full border border-solid border-black/[.08] dark:border-white/[.145] transition-colors flex items-center justify-center hover:bg-[#f2f2f2] dark:hover:bg-[#1a1a1a] hover:border-transparent font-medium text-sm sm:text-base h-min sm:h-min px-4 sm:px-5 py-1 sm:py-2 w-full gap-2",children:(0,s.jsxs)("div",{className:"flex gap4 items-center flex-col sm:flex-row",children:[(0,s.jsx)(l.default,{src:e.strMealThumb,alt:"Image Food",width:50,height:50}),(0,s.jsx)("h1",{className:"font-bold text-center",children:e.strMeal})]})}),modal:!0,nested:!0,contentStyle:{padding:0,border:"none",background:"none"},children:r=>(0,s.jsx)(h,{recipe:e,close:r})},e.strMeal))})):null}}},e=>{e.O(0,[919,441,255,358],()=>e(e.s=3841)),_N_E=e.O()}]);